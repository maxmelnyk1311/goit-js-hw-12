{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst form = document.querySelector(\".form\");\nconst input = document.querySelector(\".form-input\");\nconst galleryRoot = document.querySelector(\".gallery\");\nconst cssLoader = document.querySelector(\".css-loader\");\ncssLoader.style.display = \"none\";\n\nconst searchParams = new URLSearchParams({\n    key: \"41748300-cb29be2b9e713bfb06ce55aab\",\n    q: \"\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    safesearch: \"true\",\n});\n\nform.addEventListener(\"submit\", (event) => {\n    event.preventDefault();\n    cssLoader.style.display = \"block\";\n    if (input.value.trim().length === 0) {\n        return;\n    }\n\n    searchParams.set(\"q\", input.value.trim());\n\n    fetch(`https://pixabay.com/api/?${searchParams}`)\n        .then((response) => {\n            if (!response.ok) {\n                throw new Error('error');\n            }\n            return response.json();\n        })\n        .then(({hits}) => {\n            if (hits.length === 0) {\n                iziToast.error({\n                    position: \"topRight\",\n                    message: \"Sorry, there are no images matching your search query. Please try again!\"\n                });\n            }\n\n            const galleryImages = hits.reduce(\n                (html, image) =>\n                    html +\n                        `<li class=\"gallery-item\">\n                            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n                                <img \n                                    class=\"gallery-image\" \n                                    data-source=${image.largeImageURL} \n                                    src=${image.webformatURL} \n                                    alt=${image.tags} \n                                />\n                            </a>\n                            <div class=\"gallery-item-info\">\n                                <p class=\"gallery-item-info-name\">Likes\n                                    <span class=\"gallery-item-info-value\">${image.likes}\n                                </p>\n                                <p class=\"gallery-item-info-name\">Views\n                                    <span class=\"gallery-item-info-value\">${image.views}</span>\n                                </p>\n                                <p class=\"gallery-item-info-name\">Comments\n                                    <span class=\"gallery-item-info-value\">${image.comments}</span>\n                                </p>\n                                <p class=\"gallery-item-info-name\">Downloads\n                                    <span class=\"gallery-item-info-value\">${image.downloads}</span>\n                                </p>\n                            </div>\n                        </li>`, '');\n            galleryRoot.innerHTML = galleryImages;\n\n            cssLoader.style.display = \"none\";\n\n            let ligthBoxModal = new SimpleLightbox(\".gallery a\", {\n                captionDelay: 250, \n                captionsData: \"alt\",\n            });\n            ligthBoxModal.refresh();\n            ligthBoxModal.on(\"show.simplelightbox\", function () {});\n        })\n        .catch(() => {\n            iziToast.error({\n              position: 'topRight',\n              message: \"Something is wrong!\"\n          });\n      });\n})\n\n"],"names":["form","input","galleryRoot","cssLoader","searchParams","event","response","hits","iziToast","galleryImages","html","image","ligthBoxModal","SimpleLightbox"],"mappings":"wvBAMA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAQ,SAAS,cAAc,aAAa,EAC5CC,EAAc,SAAS,cAAc,UAAU,EAC/CC,EAAY,SAAS,cAAc,aAAa,EACtDA,EAAU,MAAM,QAAU,OAE1B,MAAMC,EAAe,IAAI,gBAAgB,CACrC,IAAK,qCACL,EAAG,GACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAC,EAEDJ,EAAK,iBAAiB,SAAWK,GAAU,CACvCA,EAAM,eAAc,EACpBF,EAAU,MAAM,QAAU,QACtBF,EAAM,MAAM,KAAI,EAAG,SAAW,IAIlCG,EAAa,IAAI,IAAKH,EAAM,MAAM,KAAI,CAAE,EAExC,MAAM,4BAA4BG,GAAc,EAC3C,KAAME,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAM,OAAO,EAE3B,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAK,CAAC,CAAC,KAAAC,CAAI,IAAM,CACVA,EAAK,SAAW,GAChBC,EAAS,MAAM,CACX,SAAU,WACV,QAAS,0EAC7B,CAAiB,EAGL,MAAMC,EAAgBF,EAAK,OACvB,CAACG,EAAMC,IACHD,EACI;AAAA,4DACoCC,EAAM;AAAA;AAAA;AAAA,kDAGhBA,EAAM;AAAA,0CACdA,EAAM;AAAA,0CACNA,EAAM;AAAA;AAAA;AAAA;AAAA;AAAA,4EAK4BA,EAAM;AAAA;AAAA;AAAA,4EAGNA,EAAM;AAAA;AAAA;AAAA,4EAGNA,EAAM;AAAA;AAAA;AAAA,4EAGNA,EAAM;AAAA;AAAA;AAAA,+BAGlD,EAAE,EACtBT,EAAY,UAAYO,EAExBN,EAAU,MAAM,QAAU,OAE1B,IAAIS,EAAgB,IAAIC,EAAe,aAAc,CACjD,aAAc,IACd,aAAc,KAC9B,CAAa,EACDD,EAAc,QAAO,EACrBA,EAAc,GAAG,sBAAuB,UAAY,CAAE,CAAA,CAClE,CAAS,EACA,MAAM,IAAM,CACTJ,EAAS,MAAM,CACb,SAAU,WACV,QAAS,qBACvB,CAAW,CACX,CAAO,EACP,CAAC"}